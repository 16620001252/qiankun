<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>FAQ | qiankun</title>
    <meta name="generator" content="VuePress 1.4.1">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?0f738d9b0ac90574c09183ea85bcfa2e";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      </script>
    <meta name="description" content="Probably the most complete micro-frontends solution you ever met🧐">
    <meta name="keywords" content="microfrontend, micro frontend, micro frontends, micro-frontend, micro-frontends, microservice, javascript">
    <link rel="preload" href="/qiankun/assets/css/0.styles.fc1e806d.css" as="style"><link rel="preload" href="/qiankun/assets/js/app.68a3d553.js" as="script"><link rel="preload" href="/qiankun/assets/js/2.901d275e.js" as="script"><link rel="preload" href="/qiankun/assets/js/8.0a47e2bf.js" as="script"><link rel="preload" href="/qiankun/assets/js/3.6bab7681.js" as="script"><link rel="prefetch" href="/qiankun/assets/js/10.3c778875.js"><link rel="prefetch" href="/qiankun/assets/js/11.33e5b9e3.js"><link rel="prefetch" href="/qiankun/assets/js/12.06a8ae72.js"><link rel="prefetch" href="/qiankun/assets/js/13.7dfc8ad6.js"><link rel="prefetch" href="/qiankun/assets/js/14.806bd251.js"><link rel="prefetch" href="/qiankun/assets/js/15.18344409.js"><link rel="prefetch" href="/qiankun/assets/js/16.eeee98e9.js"><link rel="prefetch" href="/qiankun/assets/js/17.812551af.js"><link rel="prefetch" href="/qiankun/assets/js/4.a97c5341.js"><link rel="prefetch" href="/qiankun/assets/js/5.1a437c30.js"><link rel="prefetch" href="/qiankun/assets/js/6.9a0720f9.js"><link rel="prefetch" href="/qiankun/assets/js/7.f4bbaabc.js"><link rel="prefetch" href="/qiankun/assets/js/9.a7a77cb6.js">
    <link rel="stylesheet" href="/qiankun/assets/css/0.styles.fc1e806d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/qiankun/" class="home-link router-link-active"><!----> <span class="site-name">qiankun</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/qiankun/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/qiankun/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/qiankun/faq/" class="nav-link router-link-exact-active router-link-active">
  FAQ
</a></div><div class="nav-item"><a href="https://github.com/umijs/qiankun/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://v1.qiankun.umijs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  1.x
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/qiankun/faq/" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/qiankun/zh/faq/" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/umijs/qiankun" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/qiankun/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/qiankun/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/qiankun/faq/" class="nav-link router-link-exact-active router-link-active">
  FAQ
</a></div><div class="nav-item"><a href="https://github.com/umijs/qiankun/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://v1.qiankun.umijs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  1.x
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/qiankun/faq/" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/qiankun/zh/faq/" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/umijs/qiankun" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/qiankun/faq/" class="active sidebar-link">FAQ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/qiankun/faq/#application-died-in-status-loading-source-code-you-need-to-export-the-functional-lifecycles-in-xxx-entry" class="sidebar-link">Application died in status LOADING_SOURCE_CODE: You need to export the functional lifecycles in xxx entry</a></li><li class="sidebar-sub-header"><a href="/qiankun/faq/#vue-router-error-uncaught-typeerror-cannot-redefine-property-router" class="sidebar-link">Vue Router Error - Uncaught TypeError: Cannot redefine property: $router</a></li><li class="sidebar-sub-header"><a href="/qiankun/faq/#why-dynamic-imported-assets-missing" class="sidebar-link">Why dynamic imported assets missing?</a></li><li class="sidebar-sub-header"><a href="/qiankun/faq/#must-a-sub-app-asset-support-cors" class="sidebar-link">Must a sub app asset support cors?</a></li><li class="sidebar-sub-header"><a href="/qiankun/faq/#how-to-guarantee-the-main-app-stylesheet-isolated-with-sub-apps" class="sidebar-link">How to guarantee the main app stylesheet isolated with sub apps?</a></li><li class="sidebar-sub-header"><a href="/qiankun/faq/#how-to-make-sub-app-to-run-independently" class="sidebar-link">How to make sub app to run independently?</a></li><li class="sidebar-sub-header"><a href="/qiankun/faq/#could-i-active-two-sub-apps-at-the-same-time" class="sidebar-link">Could I active two sub apps at the same time?</a></li><li class="sidebar-sub-header"><a href="/qiankun/faq/#how-to-extract-the-common-library？" class="sidebar-link">How to extract the common library？</a></li><li class="sidebar-sub-header"><a href="/qiankun/faq/#does-qiankun-compatible-with-ie" class="sidebar-link">Does qiankun compatible with ie?</a></li><li class="sidebar-sub-header"><a href="/qiankun/faq/#does-qiankun-support-the-subapp-without-bundler" class="sidebar-link">Does qiankun support the subApp without bundler?</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="faq"><a href="#faq" class="header-anchor">#</a> FAQ</h1> <h2 id="application-died-in-status-loading-source-code-you-need-to-export-the-functional-lifecycles-in-xxx-entry"><a href="#application-died-in-status-loading-source-code-you-need-to-export-the-functional-lifecycles-in-xxx-entry" class="header-anchor">#</a> <code>Application died in status LOADING_SOURCE_CODE: You need to export the functional lifecycles in xxx entry</code></h2> <p>This error thrown as qiankun could not find the exported lifecycle method from your entry js.</p> <p>To solve the exception, try the following steps:</p> <ol><li><p>check you have exported the specified lifecycles, see the <a href="/qiankun/guide/getting-started.html#_1-exports-lifecycles-from-sub-app-entry">doc</a></p></li> <li><p>check you have set the specified configuration with your bundler, see the <a href="/qiankun/guide/getting-started.html#_2-config-sub-app-bundler">doc</a></p></li> <li><p>check your <code>package.json</code> name field is unique between sub apps.</p></li> <li><p>Check if the entry js in the sub-app's entry HTML is the last script to load. If not, move the order to make it be the last, or manually mark the entry js as <code>entry</code> in the HTML, such as:</p> <div class="language-html extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/antd.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/appEntry.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">entry</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://www.google.com/analytics.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <p>If it still not works after the steps above, this is usually due to browser compatibility issues. Try to <strong>set the webpack <code>output.library</code> of the broken sub app the same with your main app registration for your app</strong>, such as:</p> <p>Such as here is the main configuration:</p> <div class="language-ts extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-ts"><code><span class="token comment">// main app</span>
<span class="token function">registerMicroApps</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'brokenSubApp'</span><span class="token punctuation">,</span>
    entry<span class="token operator">:</span> <span class="token string">'//localhost:7100'</span><span class="token punctuation">,</span>
    render<span class="token punctuation">,</span>
    activeRule<span class="token operator">:</span> <span class="token function">genActiveRule</span><span class="token punctuation">(</span><span class="token string">'/react'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Set the <code>output.library</code> the same with main app registration:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Keep the same with the registration in main app</span>
    library<span class="token operator">:</span> <span class="token string">'brokenSubApp'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
    jsonpFunction<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">webpackJsonp_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>packageName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="vue-router-error-uncaught-typeerror-cannot-redefine-property-router"><a href="#vue-router-error-uncaught-typeerror-cannot-redefine-property-router" class="header-anchor">#</a> Vue Router Error - <code>Uncaught TypeError: Cannot redefine property: $router</code></h2> <p>If you pass <code>{ sandbox: true }</code> to <code>start()</code> function, <code>qiankun</code> will use <code>Proxy</code> to isolate global <code>window</code> object for sub applications. When you access <code>window.Vue</code> in sub application's code，it will check whether the <code>Vue</code> property in the proxyed <code>window</code> object. If the property does not exist, it will look it up in the global <code>window</code> object and return it.</p> <p>There are three lines code in the <code>vue-router</code> as followed, and it will access <code>window.Vue</code> once the <code>vue-router</code> module is loaded. And the <code>window.Vue</code> in following code is your master application's <code>Vue</code>.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>inBrowser <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>Vue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>To solve the error, choose one of the options listed below:</p> <ol><li>Use bundler to pack <code>Vue</code> library, instead of CDN or external module</li> <li>Rename <code>Vue</code> to other name in master application, eg: <code>window.Vue2 = window.Vue; window.Vue = undefined</code></li></ol> <h2 id="why-dynamic-imported-assets-missing"><a href="#why-dynamic-imported-assets-missing" class="header-anchor">#</a> Why dynamic imported assets missing?</h2> <p>Two way to solve that:</p> <h3 id="_1-with-webpack-live-public-path-config"><a href="#_1-with-webpack-live-public-path-config" class="header-anchor">#</a> 1. With webpack live public path config</h3> <p>qiankun will inject a live public path variable before your sub app bootstrap, what you need is to add this code at the top of your sub app entry js:</p> <div class="language-js extra-class"><pre class="language-js"><code>__webpack_public_path__ <span class="token operator">=</span> window<span class="token punctuation">.</span>__INJECTED_PUBLIC_PATH_BY_QIANKUN__<span class="token punctuation">;</span>
</code></pre></div><p>For more details, check the <a href="https://webpack.js.org/guides/public-path/#on-the-fly" target="_blank" rel="noopener noreferrer">webpack doc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Runtime publicPath addresses the problem of incorrect scripts, styles, images, and other addresses for dynamically loaded in sub application.</p></div> <h3 id="_2-with-webpack-static-public-path-config"><a href="#_2-with-webpack-static-public-path-config" class="header-anchor">#</a> 2. With webpack static public path config</h3> <p>You need to set your publicPath configuration to an absolute url, and in development with webpack it might be:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">//localhost:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="must-a-sub-app-asset-support-cors"><a href="#must-a-sub-app-asset-support-cors" class="header-anchor">#</a> Must a sub app asset support cors?</h2> <p>Yes it is.</p> <p>Since qiankun get assets which imported by sub app via fetch, these static resources must be required to support <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">cors<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>See <a href="https://enable-cors.org/server_nginx.html" target="_blank" rel="noopener noreferrer">Enable Nginx Cors<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="how-to-guarantee-the-main-app-stylesheet-isolated-with-sub-apps"><a href="#how-to-guarantee-the-main-app-stylesheet-isolated-with-sub-apps" class="header-anchor">#</a> How to guarantee the main app stylesheet isolated with sub apps?</h2> <p>Qiankun will isolate stylesheet between your sub apps automatically, you can manually ensure isolation between master and child applications. Such as add a prefix to all classes in the master application, and if you are using <a href="https://ant.design" target="_blank" rel="noopener noreferrer">ant-design<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, you can follow <a href="https://ant.design/docs/react/customize-theme" target="_blank" rel="noopener noreferrer">this doc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to make it works.</p> <h2 id="how-to-make-sub-app-to-run-independently"><a href="#how-to-make-sub-app-to-run-independently" class="header-anchor">#</a> How to make sub app to run independently?</h2> <p>Use the builtin global variable to identify the environment which provided by qiankun master:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>__POWERED_BY_QIANKUN__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">mount</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="could-i-active-two-sub-apps-at-the-same-time"><a href="#could-i-active-two-sub-apps-at-the-same-time" class="header-anchor">#</a> Could I active two sub apps at the same time?</h2> <p>When the subapp should be active depends on your <code>activeRule</code> config, like the example below, we set <code>activeRule</code> logic the same between <code>reactApp</code> and <code>react15App</code>:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token function">registerMicroApps</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token comment">// define the activeRule by your self</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'reactApp'</span><span class="token punctuation">,</span> entry<span class="token operator">:</span> <span class="token string">'//localhost:7100'</span><span class="token punctuation">,</span> render<span class="token punctuation">,</span> <span class="token function-variable function">activeRule</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span>isReactApp <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'react15App'</span><span class="token punctuation">,</span> entry<span class="token operator">:</span> <span class="token string">'//localhost:7102'</span><span class="token punctuation">,</span> render<span class="token punctuation">,</span> <span class="token function-variable function">activeRule</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span>isReactApp <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'vue app'</span><span class="token punctuation">,</span> entry<span class="token operator">:</span> <span class="token string">'//localhost:7101'</span><span class="token punctuation">,</span> render<span class="token punctuation">,</span> <span class="token function-variable function">activeRule</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span>isVueApp <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span> singular<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>After setting <code>singular: false</code> in <code>start</code> method, <code>reactApp</code> and <code>react15App</code> should be active at the same time once <code>isReactApp</code> method returns <code>true</code>.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Notice that no more than one application that relies on router can be displayed on the page at the same time, as the browser has only one url location, if there is more than one routing apps, it will definitely result in one of them to be 404 found.</p></div> <h2 id="how-to-extract-the-common-library？"><a href="#how-to-extract-the-common-library？" class="header-anchor">#</a> How to extract the common library？</h2> <blockquote><p>Don’t share a runtime, even if all teams use the same framework. - <a href="https://micro-frontends.org/" target="_blank" rel="noopener noreferrer">Micro Frontends<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>Although sharing dependencies isn't a good idea, but if you really need it, you can external the common dependencies from sub apps and then import them in master app.</p> <p>In the future qiankun will provide a smarter way to make it automatically.</p> <h2 id="does-qiankun-compatible-with-ie"><a href="#does-qiankun-compatible-with-ie" class="header-anchor">#</a> Does qiankun compatible with ie?</h2> <p>Yes.</p> <p>However, the IE environment (browsers that do not support Proxy) can only use the single-instance pattern, where the <code>singular</code> configuration will be set <code>true</code> automatically.</p> <p>You can find the singular usage <a href="/qiankun/api/#start-opts">here</a>.</p> <h2 id="does-qiankun-support-the-subapp-without-bundler"><a href="#does-qiankun-support-the-subapp-without-bundler" class="header-anchor">#</a> Does qiankun support the subApp without bundler?</h2> <blockquote><p>Yes</p></blockquote> <p>The only change is that we need to declare a script tag, to export the <code>lifecycles</code></p> <p>example:</p> <ol><li>declare entry script</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
</span><span class="token unchanged">  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;Purehtml Example&lt;/title&gt;
</span><span class="token deleted-arrow deleted">&lt;/head&gt;
&lt;body&gt;
</span><span class="token unchanged">  &lt;div style=&quot;display: flex; justify-content: center; align-items: center; height: 200px;&quot;&gt;
    Purehtml Example
  &lt;/div&gt;
</span><span class="token deleted-arrow deleted">&lt;/body&gt;
</span>
<span class="token inserted-sign inserted">+ &lt;script src=&quot;//yourhost/entry.js&quot; entry&gt;&lt;/script&gt;
</span><span class="token deleted-arrow deleted">&lt;/html&gt;
</span></code></pre></div><ol start="2"><li>export lifecycles in the entry</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#purehtml-container'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, render with jQuery&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">(</span><span class="token parameter">global</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  global<span class="token punctuation">[</span><span class="token string">'purehtml'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">bootstrap</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'purehtml bootstrap'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">mount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'purehtml mount'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token function">render</span><span class="token punctuation">(</span>$<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">unmount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'purehtml unmount'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>refer to the <a href="https://github.com/umijs/qiankun/tree/master/examples/purehtml" target="_blank" rel="noopener noreferrer">purehtml examples<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>At the same time, <a href="/qiankun/faq/#must-a-sub-app-asset-support-cors">the subApp must support the CORS</a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/umijs/qiankun/edit/master/docs/faq/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/16/2020, 1:18:49 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/qiankun/assets/js/app.68a3d553.js" defer></script><script src="/qiankun/assets/js/2.901d275e.js" defer></script><script src="/qiankun/assets/js/8.0a47e2bf.js" defer></script><script src="/qiankun/assets/js/3.6bab7681.js" defer></script>
  </body>
</html>
